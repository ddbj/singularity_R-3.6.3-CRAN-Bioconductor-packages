BootStrap: localimage
From: ./ubuntu-20.04-R-3.6.3-CRAN-packages.simg


%files
    # copying files from the host system to the container.


%labels
    Maintainer Yoshihiro Okuda
    Version    v1.0


%runscript

%environment


%post
    cd /usr/local/src
    apt-get -y install libsasl2-dev libtesseract-dev libleptonica-dev tesseract-ocr-eng libgl1-mesa-dev libglu1-mesa-dev
    apt-get -y install devscripts libgtkmm-2.4-dev libsbml5-dev cwltool python3-sklearn python3-pandas python3-numpy python3-h5py
    echo 'require(devtools)' > bioc_install.R
    echo 'install_version("mnormt", version = "1.5-7", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("d3heatmap", version = "0.6.1.2", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("modes", version = "0.7.0", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("gWidgetsRGtk2", version = "0.0-86.1", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("plspm", version = "0.4.9", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("RODBC", version = "1.3-16", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("clues", version = "0.6.2.2", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("XGR", version = "1.1.7", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("lsei", version = "1.2-0.1", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("llama", version = "0.9.2", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("DPpackage", version = "1.1-7.4", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("rphast", version = "1.6.9", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("rtfbs", version = "0.3.15", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("PCIT", version = "1.5-3", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("ppls", version = "1.6-1.1", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("parcor", version = "0.2-6", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("pathological", version = "0.1-2", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("hashmap", version = "0.2.2", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'install_version("flare", version = "1.6.0.2", repos = "https://cran.ism.ac.jp")' >> bioc_install.R
    echo 'library(BiocManager)' >> bioc_install.R
    echo 'pkgs <- BiocManager::available(include_installed = FALSE)' >> bioc_install.R
    echo 'BiocManager::install(pkgs, update = TRUE, ask = FALSE)' >> bioc_install.R
    xvfb-run R BATCH --no-save < bioc_install.R
